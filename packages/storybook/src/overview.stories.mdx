import { Meta, Story, Preview } from '@storybook/addon-docs/blocks';

import './utils/docs.css';

<Meta title="Documentation/Overview" />

# Reshoot

[![Babel Macro](https://img.shields.io/badge/babel--macro-%F0%9F%8E%A3-f5da55.svg?style=flat-square)](https://github.com/kentcdodds/babel-plugin-macros)
[![lerna](https://img.shields.io/badge/maintained%20with-lerna-cc00ff.svg)](https://lerna.js.org)
[![codecov](https://codecov.io/gh/billykwok/reshoot/branch/master/graph/badge.svg)](https://codecov.io/gh/billykwok/reshoot)
[![License](https://badgen.net/npm/license/@reshoot/react)](https://github.com/billykwok/reshoot/blob/master/LICENSE)
[![CircleCI](https://circleci.com/gh/billykwok/reshoot/tree/master.svg?style=svg)](https://circleci.com/gh/billykwok/reshoot/tree/master)

Reshoot is a production-ready image framework for React. As a spiritual successor of [`react-ideal-image`](https://github.com/stereobooster/react-ideal-image) (no longer actively maintained), Reshoot makes the generation and rendering of lazy-loaded responsive images as effortless and efficient as possible.

It is not just a library but a framework, because apart from a lightweight React component library, it is also shipped with a Webpack loader and a Babel macro that generate images in different sizes ([`srcset`](https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images)) as well as low-quality previews ([`lqip`](https://github.com/zouhir/lqip)).

Written in TypeScript, Reshoot provides type definitions out of the box. Powered by hooks and IntersectionObserver, its React runtime is only `4.4kb` in size (`3kb` js and `1.4kb` css) before gzip and `2.5kb` after gzip. The built-in Babel macro also helps you override image generation setting while maintaining maximum code readability and type-checkability. The project has a test coverage of over 90%.

## What is in the box

Reshoot currently consists of the following 3 packages.

### `@reshoot/loader`

A [`webpack-loader`](https://webpack.js.org/loaders) that emits low-quality image preview ([`lqip`](https://github.com/zouhir/lqip)) and responsive images, and returns meta info of the images.

### `@reshoot/macro`

A [`babel-macro`](https://github.com/kentcdodds/babel-plugin-macros) that transpiles `reshoot('image.jpg', { a: 1, b: 2 })` into `require('image.jpg!@reshoot/loader?a=1&b=2')`.

### `@reshoot/react`

A lightweight [`React`](https://reactjs.org) component that renders lazy-loaded responsive images. It is designed to accept the output meta data of `@reshoot/loader`.

> Despite it works the best when all 3 packages are used together, there is nothing stopping you from selectively adopt one of them to fit your use case. For example, you can use `@reshoot/loader` to generate responsive images, but build your own `<Img />` component to render the images. Or, the other way round - using `@reshoot/react` to render images that you build yourself.

> Currently Reshoot assumes that you use Webpack, Babel and React. Please let know if you need support for other framework/library.

## Quick Look

Here is a simplfied demonstration on how easy to use Reshoot.

```jsx
import React from 'react';
import reshoot from '@reshoot/macro';
import Reshoot from '@reshoot/react';

function Example() {
  return <Reshoot data={reshoot('./image.jpg')} />;
}
```

## Support

This library has been continuously used in many of my personal projects, and is regarded as production-ready. In the foreseeable future, I will continuously maintain and support this library.

## Issues and Feedback

Please voice your opinion and report bugs in the [issues](https://github.com/billykwok/reshoot/issues) sections of this GitHub project.

## Contributing

You are more than welcome to add more functionalities, improve documentation, fix bugs, and anything you think is needed. The build step is pretty self-explanatory. Please refer to [`package.json`](https://github.com/billykwok/reshoot/blob/master/package.json).

## License

MIT
